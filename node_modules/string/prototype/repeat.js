// http://code.google.com/p/traceur-compiler/source/browse/src/runtime/polyfills/String.js?spec=svn3eb8737d4e8636badc64671f22c6899f3dc4106c&r=3eb8737d4e8636badc64671f22c6899f3dc4106c
// http://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype.repeat
function repeat(count){
	/*! http://mths.be/repeat v0.1.0 by @mathias */
	if( this == null ){
		throw TypeError();
	}
	var string = String(this);
	// `ToInteger`
	var n = count ? Number(count) : 0;
	if( isNaN(n) ){
		n = 0;
	}
	// Account for out-of-bounds indices
	if( n < 0 || n == Infinity ){
		throw RangeError(n + ' < 0 or is Infinity');
	}
	if( n === 0 ){
		return '';
	}
	var result = '';
	while(n--){
		result+= string;
	}
	return result;
}

module.exports = repeat;
require('object/polyfill')(String.prototype, 'repeat', repeat);