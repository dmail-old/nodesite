var proto = require('proto');
var debug = require('debug');
var toSize = require('./toSize');

var CellLayout = proto.create({
	computedWidth: null,
	minWidth: 0,
	maxWidth: Infinity,
	width: null,

	constructor: function(cell, availableWidth){
		this.cell = cell;

		this.computedWidth = cell.style.width === 'auto' ? cell.value.length : toSize(cell.style.width, availableWidth);
		this.minWidth = toSize(cell.style.minWidth, availableWidth);
		this.maxWidth = toSize(cell.style.maxWidth, availableWidth);

		var width = this.computedWidth;
		width = Math.max(this.minWidth, width);
		width = Math.min(this.maxWidth, width);

		this.width = width;	
	}
});

module.exports = CellLayout;