nodetest
=============

Unit tests for node modules.

## Example

```javascript
exports['simple test'] = function(){
	if( 1+1 != 2 ){
		throw new Error('1+1 not equal to 2');
	}
};

exports['test using assertion'] = function(test){
	test.equal(1+1, 2);
	test.equal(2+2, 4);
	test.willBe(function(resolve, reject){
		resolve(3+3);
	}, 6);
};

exports['test regarding a module'] = functiont(test, FooModule){
	test.equal(FooModule.name, 'foo');	
};
```

## Module tests structure

In the following directory structure you can see which file will be considered as tests for your modules

```
node_modules/
	FooModule/
		index.js
		test.js <- test file for FooModule/index.js
	BarModule/
		index.js
		dependency.js		
		test.js <- test file for BarModule/index.js
		test-dependency.js <- test file for BarModule/dependency.js
	BooModule/
		main.js
		package.json // {"main": 'main.js'}
		test.js <- test file for BooModule/main.js
	BatModule/
		index.js
		test.js <- ignored because there is a test folder
		test/
			test.js <- test file for BatModule/index.js
```

## equal(a, b)

If a != b will throw an AssertionError

## willResolve(Promise | Executor)

Executor are converted to Promise.  
If the promise does not resolve, the test will be rejected with an AssertionError

## willBe(Promise | Executor, value)

```javascript
test.willBe(promise, 4);

// is a shortcut for
test.willResolve(promise.then(function(value){
	test.equal(value, 4);
});
```

## willReject(Promise | Executor)

```javascript
test.willReject(promise, 4);

// is a shortcut for
test.willResolve(promise.then(
	function(value){
		throw new Error('promise expect to reject');		
	},
	function(value){
		return value;
	}
));
```