# nodetest

Unit tests your node modules.

## Example

```javascript
exports['simple test'] = function(){
	if( 1+1 != 2 ){
		throw new Error('1+1 not equal to 2');
	}
};

exports['test using assertion'] = function(test){
	test.equal(1+1, 2);
};

exports['testing a module'] = functiont(test, FooModule){
	test.equal(FooModule.name, 'foo');
};

exports['async testing'] = function(test, FooModule){
	test.willResolve(Promise.resolve('foo'));
	test.willBe(Promise.resolve('bar'), 'bar');
};
```

## Module tests structure

The following directory structure shows how to structure test file.

```
node_modules/
	foo/
		index.js
		test.js <- test file for foo/index.js
	bar/
		index.js
		dependency.js		
		test.js <- test file for bar/index.js
		test-dependency.js <- test file for bar/dependency.js
	boo/
		main.js
		package.json // {"main": 'main.js'}
		test.js <- test file for boo/main.js
	bat/
		index.js
		test.js <- ignored because there is a test folder
		test/
			test.js <- test file for bat/index.js
```

## equal(a, b)

If a != b will throw an AssertionError

## willResolve(Promise | Executor)

Executor are converted to Promise.  
If the promise does not resolve, the test will be rejected with an AssertionError

## willBe(Promise | Executor, value)

```javascript
test.willBe(promise, 4);

// is a shortcut for
test.willResolve(promise.then(function(value){
	test.equal(value, 4);
});
```
