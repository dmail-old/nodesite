var TestSerie = require('../TestSerie');
var proto = require('proto');

var FileTest = proto.extend(TestSerie, {
	type: 'file',
	path: null,

	constructor: function(path, tests){
		TestSerie.call(this, tests);
		this.name = 'Test in file : ' + path;
		this.path = path;
	},

	load: function(){
		var exports = require(this.path), name;

		for(name in exports){
			this.add(name, exports[name]);
		}
	},

	get module(){
		return this._module || (this.parent ? this.parent.module : null);
	},

	set module(value){
		this._module = module;
	}
});

module.exports = FileTest;