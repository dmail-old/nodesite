var Task = require('./task');
require('task/complete');
var forOf = require('for-of');

function reduce(iterable, bind, initialValue){
	var task = Task.complete(initialValue);

	forOf(iterable, function(fn){
		task = task.then(fn, null, bind);
	});

	return task;
}

module.exports = reduce;
Task.reduce = reduce;