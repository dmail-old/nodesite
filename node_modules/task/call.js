var Task = require('task');
require('task/complete');
require('task/fail');

function call(fn, bind, value){
	var ret, error;

	try{
		ret = fn.call(bind, value);
	}
	catch(e){
		error = e;
	}

	return error ? Task.fail(error) : Task.complete(ret);
}

module.exports = call;
Task.call = call;