var Task = require('./task');

Task.prototype.startDate = null;
Task.prototype.duration = 0;
Task.prototype.time = function(ms){
	if( !this.startDate ){
		this.startDate = new Date();
	}

	var clean = this.clean;
	this.clean = function(){
		this.duration = new Date() - this.startDate;
		return clean.call(this);
	};

	return this;
};

module.exports = Task.prototype.time;