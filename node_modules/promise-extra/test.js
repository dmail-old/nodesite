exports['Promise.first'] = function(test){
	test.willBe(Promise.first([
		function(){
			return Promise.reject('first');
		},
		function(){
			return Promise.reject('last');
		}
	]).catch(function(reason){ return reason; }), 'last');

	test.willBe(Promise.first([
		function(){
			return Promise.reject();
		},
		function(){
			return Promise.resolve('ok');
		}
	]), 'ok');

	test.willBe(Promise.first([
		function(){
			return Promise.resolve('first');
		},
		function(){
			return Promise.resolve('last');
		}
	]), 'first');
};