require('promise/reduce');
require('iterator/map');

// same as map but values are not collected
function mapReduce(iterable, fn, bind, initialValue){
	iterable = Iterator.map(iterable, function(value, index, iterable){
		return fn.bind(bind, value, index, iterable);
	}, bind);

	return Promise.reduce(iterable, undefined, initialValue);
}

module.exports = mapReduce;
Promise.mapReduce = mapReduce;