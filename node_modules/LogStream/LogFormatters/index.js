var StringFormattedStream = require('./StringFormattedStream');

var JSONStream = StringFormattedStream.create({
	stringify: function(log){
		return JSON.stringify(log);
	}
});

var RawStream = StringFormattedStream.create({
	stringify: function(log){
		return log.toString();
	}
});

var ColoredStream = StringFormattedStream.create({
	stringify: function(log){
		return log.toStylizedString();
	}
});

var JSONParsedStream = require('./JSONParsedStream');
var LogStream = JSONParsedStream.create({
	revive: function(obj){
		var log = this.Log.new();
		log.populate(obj);
		return log;
	}
});

module.exports = {
	json: JSONStream,
	raw: RawStream,
	colored: ColoredStream
};