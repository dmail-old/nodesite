function parseArgs(process){
	var args = process.argv.slice(1), i = 0, j = args.length, arg, equalIndex, key, value, object = {};
	var nameArguments = Array.prototype.slice.call(arguments, 1);

	for(;i<j;i++){
		arg = args[i];
		equalIndex = arg.indexOf('=');
		if( equalIndex === -1 ){
			key = nameArguments[i] || i;
			value = arg;
		}
		else{
			key = arg.slice(0, equalIndex);
			value = arg.slice(equalIndex + 1);
		}
		if( value === 'true' ) value = true;
		else if( value === 'false' ) value = false;
		object[key] = value;
	}

	return object;
}

module.exports = parseArgs;