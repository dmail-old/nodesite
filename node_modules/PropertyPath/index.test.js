exports['has a firstPart with named user'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');

	test.equal(path.firstPart.name, 'user');
};

exports['has a firstPart.nextPart named comment'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');

	test.equal(path.firstPart.nextPart.name, 'comment');
};

exports['has a lastPart named title'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');

	test.equal(path.lastPart.name, 'title');
};

exports['set the correct model to parts'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');
	var model = {
		user: {
			comment: {
				title: 'titre'
			}
		}
	};
	path.setModel(model);

	test.equal(path.firstPart.model, model);
	test.equal(path.firstPart.nextPart.model, model.user);
	test.equal(path.lastPart.model, model.user.comment);
};

exports['read the correct value for parts'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');
	var model = {
		user: {
			comment: {
				title: 'titre'
			}
		}
	};
	path.setModel(model);

	test.equal(path.firstPart.value, model.user);
	test.equal(path.firstPart.nextPart.value, model.user.comment);
	test.equal(path.lastPart.value, 'titre');
};

exports['propagate unsetModel'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');
	var model = {
		user: {
			comment: {
				title: 'titre'
			}
		}
	};
	path.setModel(model);
	path.unsetModel();

	test.equal(path.firstPart.model, null);
	test.equal(path.lastPart.model, null);
};

exports['set/get the value'] = function(test, PropertyPath){
	var path = PropertyPath.create('user.comment.title');
	var model = {
		user: {
			comment: {
				title: 'titre'
			}
		}
	};
	path.setModel(model);
	path.value = 'coucou';

	test.equal(path.value, 'coucou');
	test.equal(model.user.comment.title, 'coucou');
};