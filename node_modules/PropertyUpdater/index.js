var proto = require('proto');
var PropertyUpdater = proto.create({
	constructor: function(eachKey){
		this.eachKey = eachKey;
		this.update = this._update.bind(this);
	},

	_update: function(object){
		var i = 1, j = arguments.length, owner, keys, n, m;

		for(;i<j;i++){
			owner = arguments[i];
			keys = Object.keys(owner);
			n = 0;
			m = keys.length;

			for(;n<m;n++){
				this.eachKey(object, keys[n], owner);
			}
		}

		return object;
	}
});

module.exports = PropertyUpdater;