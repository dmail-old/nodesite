function parse(args, index){
	index = typeof index == 'number' ? index : 2;
	args = args.slice(index);

	var i = 0, j = args.length, arg, equalIndex, key, value, object = {};

	for(;i<j;i++){
		arg = args[i];
		equalIndex = arg.indexOf('=');
		if( equalIndex === -1 ){
			key = i;
			value = arg;
		}
		else{
			key = arg.slice(0, equalIndex);
			value = arg.slice(equalIndex + 1);
		}
		if( value === 'true' ) value = true;
		else if( value === 'false' ) value = false;
		object[key] = value;
	}

	return object;
}

module.exports = parse;