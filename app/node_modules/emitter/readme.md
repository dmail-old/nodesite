Emitter
=============

Emit and listen events

## Example

```javascript
var Emitter = require('Emitter');
var customEmitter = Emitter.new();
var readListener = function(){
  console.log(arguments);
});

// add listener to 'read' event
customEmitter.on('read', readListener);
// call listeners of 'read' event
customEmitter.emit('read', 'hello'); // log: ['hello']
// apply listeners of 'read' event
customEmitter.applyListeners('read', ['world']); // log: ['world']
// get listeners of 'read' event
customEmitter.listeners('read'); // [loadedListener]
// remove listeners of 'read' event
customEmitter.off('read');
customEmitter.listeners('read'); // false
// add volatile listener to 'read' event
customEmitter.once('read', readListener);
customEmitter.emit('read', 'foo'); // logs: ['foo']
customEmitter.listeners('read'); // false

// add listener for each added listener
customEmitter.on('addListener', function(event, listener){});
// add listener for each removed listener
customEmitter.on('removeListener', function(event, listener){});
// add listener for all events
customEmitter.on('*', function(event, args){});
```

## Emitter.listeners(event)

Returns an array of event listeners or false if not listener exists.

## Emitter.addListener(event, listener)

Add listener to event listeners.

## Emitter.removeListener(event, listener)

Remove listener from event listeners.  
Emitter.removeListener(event) will removes all registered listeners for event.  
Emitter.off() will remove all registereds listeners for all events.

## Emitter.callListeners(event, ...)

Call event listeners with supplied arguments.

## Emitter.applyListeners(event, args)

Call event listeners with args.

## Emitter.addVolatileListener(event, listener)

Add a listener to event listeners.  
This listener will be removed from event listeners before beeing called.

```javascript
var Emitter = require('emitter');

Emitter.addVolatileListener('event', function(){ 
  console.log(Emitter.listeners('event'));
});
Emitter.callListeners('event');
// logs: false
```

## event

An event is a string without spaces or a number.

## listener

Listener can be a function.

```javascript
var Emitter = require('Emitter');
var listener = function(){
  console.log(arguments);
};
Emitter.addListener('event', listener).callListeners('event', 'hello', 'world');
// logs: ['hello', 'world']
```

Listener can be an object with a handleEvent(event, args, emitter) method.  

```javascript
var Emitter = require('Emitter');
var listener = {
  handleEvent: function(name, args, object){
    console.log(this === listener, name, args, object);
  }
};

Emitter.addListener('event', listener).callListeners('event', 'hello', 'world');
// logs: true, 'event', ['hello', 'world'], Emitter
```

## eventArgumentAPI

This API is used by on(), but off(), once() and emit().  
It uses Spaced String, Array, and Object to manipulate multiple event.  

```javascript
var Emitter = require('emitter');
var listener = function(){};
var otherlistener = function(){};

// Spaced String will add listener to both 'eventA' and 'eventB'
Emitter.on('eventA eventB', listener);
// Array will add listener to both 'eventA' and 'eventB'
Emitter.on(['eventA', 'eventB', listener];
// Object will add listener to 'eventA' and otherlistener to 'eventB'
Emitter.on({
  eventA: listener,
  eventB: otherlistener
});
```

Please, note emit() special case with object notation: it's weird and should be avoided.

```javascript
// Array notation will call 'eventA' and 'eventB' listeners with args ['firstArgument', 'secondArgument']
Emitter.emit(['eventA', 'eventB'], 'firstArgument', 'secondArgument');
// Object notation can do the same but is weird
Emitter.emit({
  eventA: 'firstArgument',
  eventB: 'firstArgument'
}, 'secondArgument');
```

## Emitter.on(event, listener)

Call Emitter.addListener using [eventArgumentAPI](#eventArgumentAPI).

## Emitter.off(event, listener)

Call Emitter.removeListener using [eventArgumentAPI](#eventArgumentAPI).

## Emitter.once(event, listener)

Call Emitter.addVolatileListener using [eventArgumentAPI](#eventArgumentAPI).  

## Emitter.emit(event, ...)

Call Emitter.callListeners using [eventArgumentAPI](#eventArgumentAPI).  

## Internal events

There is four internal events: [addListener](#addListener), [removeListener](#removeListener), [*](#wildcard).

## Internal event 'addListener'

Called each time a listener is added, your listener will receive (eventName, addedListener) as arguments.

## Internal event 'removeListener'

Called each time a listener is removed, your listener will receive (eventName, removedListener) as arguments.

## Internal event '*'

Called each time a listener is called, except for 'addListener', 'removeListener' and '*' event. Your listener will receive (eventName, args) as arguments.

