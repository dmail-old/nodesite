var Selector = require('./selector');
var ArraySelector = Selector.create({
	selectors: null,

	condition: function(selector){
		return selector instanceof Array;
	},

	new: function(selector){
		if( selector.length === 0 ){
			return Selector.new(null);
		}
		if( selector.length === 1 ){
			return Selector.new(selector[0]);
		}

		return Object.prototype.new.apply(this, arguments);
	},

	init: function(){
		Selector.init.apply(this, arguments);
		this.selectors = this.selector.map(Selector.new, Selector);
	},

	test: function(item){
		var i = 0, j = this.selectors.length;

		for(;i<j;i++){
			if( !this.selectors[i].match(item) ) return false;
		}
		
		return true;
	}
});

module.exports = ArraySelector;