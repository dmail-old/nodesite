/*---name: Array.finddescription: Advanced search against arrayrequire: Object, Selector, Array.prototype.iterateprovides: Array.prototype.find, Array.prototype.findAll, Array.prototype.count...*/Array.implement({	// loop through array testing all items	collectMatch: function(selector, first, direction, from, to){		/*		a speed improvment is possible is we just need to find the item through a number		if( typeof filter == 'number' ){			var value = array[(filter * direction == 'prev' ? -1 : 1) + (from || 0)];			if( typeof value == 'undefined' ) value = null;			return first ? value : [value];		}*/		selector = require('selector').new(selector);		return selector.collectMatch(function(push){ this.iterate(push, this, direction, from, to); }, this, first);	},	// returns first item satifying selector or null	find: function(selector, direction, from, to){		return this.collectMatch(selector, true, direction, from, to);	},	// returns an array containing all items satifying selector	findAll: function(selector, direction, from, to){		return this.collectMatch(selector, false, direction, from, to);	},	// returns the number of items satisfying at least one arguments	count: function(){		return this.findAll(arguments).length;	}});