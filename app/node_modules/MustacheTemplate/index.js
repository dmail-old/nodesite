var StringTemplate = require('StringTemplate');
var MustacheTemplate = StringTemplate.extend({
	PropertyPath: require('PropertyPath'),	

	encode: function(value){
		return value;
	},

	replacer: function(data, token){
		var path = this.PropertyPath.new(token).setModel(data), value;

		// dont replace {name} when name does not exists in this
		if( path.has() ){
			value = path.value;
			return value == null ? '' : this.encode(value);
		}
		return this.empty(token);
	}
});

module.exports = MustacheTemplate;