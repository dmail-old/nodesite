var StringTemplate = require('StringTemplate');
var MustacheTemplate = StringTemplate.extend({
	PropertyPath: require('PropertyPath'),	

	replacer: function(data, token){
		var path = this.PropertyPath.new(token).setModel(data), value;

		// dont replace {name} when name does not exists in this
		if( path.has() ){
			value = path.value;
			return value == null ? '' : value;
		}
		return this.empty(token);
	}
});

module.exports = MustacheTemplate;