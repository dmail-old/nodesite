PropertyAccessorObserver
=============

Extend [PropertyAccessor](../PropertyAccessor) to listen for [change](#change) in a model.

## Example

```javascript
var observer = PropertyAccessorObserver.new('user.comment.title');
var model = {
	user: {
		comment: {
			title: 'foo'
		}
	}
};

observer.setModel(model);

window.change = null;
observer.setListener(function(change){ window.change = change; });
window.change;
// {type: 'new', value: 'foo', oldValue: undefined, model: model.user.comment.title, target: observer}

model.user.comment.title = 'bar';
window.change;
// {type: 'updated', value: 'bar', oldValue: 'foo', model: model.user.comment.title, target: observer}

var titleModel = {title: 'boo'};
model.user.comment = titleModel;
window.change;
// {type: 'updated', value: 'boo', oldValue: 'bar', model: titleModel, target: observer}

module.user.comment = null;
window.change;
// {type: 'deleted', value: undefined, oldValue: 'boo', model: titleModel, target: observer}
```

## Requirements

- [PropertyAccessor](../PropertyAccessor)
- [ObjectObserver](../ObjectObserver)

## change

An object used to represent changements. Got the following signature:

Property		| Value
--------------- | -------------
type  			| the type of change ('new', 'updated', 'deleted')
value 			| value found for this change
oldValue		| previous value if any
model 			| model concerned by the change
target 			| PropertyAccessorObserver
id 				| PropertyAccessorObserver.id

## new change

Created when the model is set

Property		| Value
--------------- | -------------
type  			| 'new'
value 			| value found
oldValue		| undefined
model 			| model holding value

## updated change

Created when the value in model is updated

Property		| Value
--------------- | -------------
type  			| 'updated'
value 			| value found
oldValue		| previous value found
model 			| model holding value

## deleted change

Created when the value in model is not reachable anymore

Property		| Value
--------------- | -------------
type  			| 'deleted'
value 			| undefined
oldValue		| last known value
model 			| model holding oldValue

## PropertyAccessorObserver.id

This property will be accessible via change.id to identify a PropertyAccessorObserver from a change object.  
Used internally by ComputedObserver.

## PropertyAccessorObserver.lastChange

null or the lastChange that happened.

## PropertyAccessorObserver.setListener(listener, bind, id, suppressNotify)

Set the function that listen for change objects.

- listener: Function that will receive change
- bind: this in listener
- id: set PropertyAccessorObserver.id
- supressNotify: by default listener is immediatly called with PropertyAccessorObserver.lastChange, pass false to avoid this

## PropertyAccessorObserver.new(path, model, listener, bind, id)
