module.exports = {
	getSortIndex: function(array, item, compare){
		var i = 0, j = array.length;

		if( compare == null ) compare = function(a, b){ return a < b ? -1 : a > b ? 1 : 0; };

		for(;i<j;i++){
			if( compare(item, array[i]) === -1 ){
				return i;
			}
		}

		return j;
	},

	// permet d'insérer item dans this en respectant l'ordre imposé par compare
	insertSort: function(array, item, compare){
		array.splice(this.getSortIndex(array, item, compare), 0, item);
		return array;
	}
};

require('core/array');
Array.implement('insertSort', function(item, compare){
	return module.exports.insertSort(this, item, compare);
});