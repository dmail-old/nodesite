ArrayObserver
=============

Observe array modifications.

## Example

```javascript
var ArrayObserver = require('ArrayObserver');

// will keep two array synchronised :)
Array.prototype.sync = function(array){
  ArrayObserver.new(this, function(change){
    if( change.type == 'affectations' ){
      change.perform(array, this);
    }
    else if( change.type == 'add' ){
      array[change.index] = change.value;
    }
    else if( change.type == 'update' ){
      array[change.index] = change.value;
    }
    else if( change.type == 'remove' ){
      array.splice(change.index, 1);
    }
  }, this);
  
  return array;
};

var array = ['a', 'b', 'c'];
var copy = [].concat(array);
array.sync(copy);
array.reverse();

console.log(array, copy);
// logs: ['c', 'b', 'a'], ['c', 'b', 'a']
```

## Requirements

- [ObjectObserver](../ObjectObserver)

## Limitations

ArrayObserver is unable to catch 3 type of change:

- delete array[index]; due to [ObjectObserver](../ObjectObserver) limitations.
- array[index] = value; when index is greater than array.length, value and previous values to array.length are ignored.
- array.length = number; when number is not array.length, the added/removed empty values are ignored.

## ArrayObserver.new(array, listener, bind)

- array: the array to observe
- listener: a function that will be called listener(change)
- bind: this value of listener

It will immediatly start to listen array changes and call listener

## ArrayObserver.close()

Stop listening changes.

## change object

method                      | type
--------------------------- | --------------
[index] = value             | 'update'
push, unhift, splice        | 'add'
splice, pop, shift, splice  | 'remove'
reverse, sort               | 'affectations'

## update Change

property            | description
------------------- | -------------------
type                | 'update'
index               | index of the value updated
value               | the new value at this index
oldValue            | the oldValue at this index

## add Change

property            | description
------------------- | -------------------
type                | 'add'
index               | the index of the entry added in the array
value               | the value for this index

## remove Change

property            | description
------------------- | -------------------
type                | 'remove'
index               | the index of the entry removed from the array
value               | the value that was at this index

## affectation Change

See [AffectationChange](./AffectationChange)