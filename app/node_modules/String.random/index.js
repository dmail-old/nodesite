module.exports = {
	matrixes: require('./matrixes'),
	getRandom: function(item, fallback){
		return item.length ? item[this.random(0, item.length - 1)] : fallback;
	},

	generate: function(length, matrix){
		if( arguments.length < 1 ) length = 16;
		if( arguments.length < 2 ) matrix = this.matrixes.ALL;

		if( typeof length != 'number' ){
			throw new TypeError('length must be a number');
		}
		if( typeof matrix != 'string' && !(matrix instanceof Array) ){
			throw new TypeError('matrix sould have be a string or an array');
		}
		if( matrix.length === 0 ){
			throw new TypeError('matrix must not be empty');
		}

		var str = '', i = 0;
		for(;i<length;i++) str+= this.getRandom(matrix);
		return str;
	}
};