var Parser = require('mustacheParser').new();
Parser.open = '{';
Parser.close = '}';
Parser.replacer = function(match, value){
	if( value in this ) return this[value];
	return match;
};

var HeaderValueError = function(statusCode, message, data){
	this.name = 'HeaderValueError';
	this.statusCode = statusCode;
	this.message = Parser.replace(message, Parser.replacer, data);
	this.data = data;
};
HeaderValueError.prototype = new Error();
HeaderValueError.prototype.constructor = HeaderValueError;

module.exports = HeaderValueError;