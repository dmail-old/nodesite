var Template = require('stringTemplate').extend({
	open: '{',
	close: '}',
	replacer: function(match, value){
		if( value in this ) return this[value];
		return match;
	}
});

var HeaderValueError = function(statusCode, message, data){
	this.name = 'HeaderValueError';
	this.statusCode = statusCode;
	this.message = Template.new(message).render(data);
	this.data = data;
};
HeaderValueError.prototype = new Error();
HeaderValueError.prototype.constructor = HeaderValueError;

module.exports = HeaderValueError;