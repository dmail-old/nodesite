# Router

Route request to response usings middlewares

## Example

For a GET request, this example will log 'request' and 'an error occured' and client will receive a 500 response

```javascript
var router = require('router').create();

router.use(function(handler){
	console.log('request');
	throw new Error('foo');
});

router.use(function(handler, error){
	console.log('an error occured');
	return Promise.reject(error);
});

require('http').createServer(function(request, response){
	var requestHandler = router.createRequestHandler(request, response);

	requestHandler.createPromise().then(function(value){
		requestHandler.response.send(value);
	}).catch(function(error){
		requestHandler.response.send(500);
	});
});
```
