# router

Create a response from a request

## Example

```javascript
var router = require('router').create();

router.use(function(handler){
	console.log(handler.request.method, handler.request.url.pathname);
	throw new Error('foo');
});

router.use(function(handler, error){
	return {
		status: 500,
		body: 'Server internal error'
	};
});

// will log 'get /' then '500 Server internal error'
router.createRequestHandler({
	method: 'GET',
	url: '/'
}).then(function(response){
	console.log(response.status, response.body);
});

// of course router is meant to be used with 'http', here is how
require('http').createServer(function(request, response){
	router.route(request, response);
});
```

Check the part explaining how middleware works here : [middlewares](./middleware)
