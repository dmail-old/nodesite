# Router

Route request to response usings middlewares

## Example

```javascript
var router = require('router').create();

router.use(function(handler){
	console.log('request', handler.request.method);
	throw new Error('foo');
});

router.use(function(handler, error){
	console.error('an error occured', error);
	return Promise.reject(error);
});

require('http').createServer(function(request, response){
	var requestHandler = router.createRequestHandler(request, response);

	requestHandler.createPromise().then(function(value){
		requestHandler.response.send(value);
	}).catch(function(error){
		requestHandler.response.send(500);
	});
});
```