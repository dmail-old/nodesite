var proto = require('@dmail/proto');
var StringTemplate = require('template-string');

// le client utilise {{}}}, le template par defaut utilise {}, donc pour le serveur on utilise encore
// un signature diff√©rent : {%%}
var MustachePercentTemplate = proto.extend.call(StringTemplate, {
	Compiler: proto.extend.call(StringTemplate.Compiler, {
		regex: /{%([A-Za-z]?[A-Za-z0-9]*)%}/g,
		open: '{%',
		close: '%}'
	})
});

module.exports = MustachePercentTemplate;