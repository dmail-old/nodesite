module.exports = function(){
	
	var bodyReader = this.bodyReader;
	var stream = bodyReader.computedStream;

	stream.resolve();
	global.streamToBuffer(stream, function(error, buffer){
		if( error ) return bodyReader.error(error);

		var json = buffer.toString();

		try{
			json = JSON.parse(json);
		}
		catch(e){
			return bodyReader.error(error);
		}

		bodyReader.done(json);

	});

};