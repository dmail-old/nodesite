FileTemplate
========================

Manipulate file content part by part.

## Example

test.txt content
```text
Hello
World
!
```

```javascript
var FileTemplate = require('localDB/FileTemplate');
var fileTemplate = FileTemplate.new('test.txt');

fileTemplate.read(function(error, parts){
  parts.length; // 3
  parts[0].source.toString(); // 'Hello'
  parts[1].source.toString(); // 'World'
});
```

## Requirements

TODO

## Properties

name | description | default
---- | ------------ | --
fileSystem | fileSystem module used | require('fs')
path | path of the file, can be : 'closed','opening','opened','reading','readed','writing','closing' | 'closed'
fd | fileDescriptor of the file (set when file is opened) | null
stat | [fsStat](http://nodejs.org/api/fs.html#fs_class_fs_stats) object of the file (set when file is read) | null
size | size of the file (set when stat is set) | null
separator | string used to split the file content | '\n'
separatorBuffer | buffer representing the separator string (set when file is opened) | null
parts | Array of parts (set when file is read) | null

## new(path, encoding)

path must be a string and will be considered as the file path.
if encoding is a string encoding property will be set if [Buffer.isEncoding(encoding)](http://nodejs.org/api/buffer.html#buffer_class_method_buffer_isencoding_encoding) returns true.

## setPath(path)

set the path property

## open(callback, bind)

Open the file for reading and writing.
callback will receive (error, fileDescriptor)

```javascript
fileTemplate.open(function(error, fileDescriptor){
  if( error.message == FileTemplate
========================

Manipulate file content part by part.

## Example

test.txt content
```text
Hello
World
!
```

```javascript
var FileTemplate = require('localDB/FileTemplate');
var fileTemplate = FileTemplate.new('test.txt');

fileTemplate.read(function(error, parts){
  parts.length; // 3
  parts[0].source.toString(); // 'Hello'
  parts[1].source.toString(); // 'World'
});
```

## Requirements

TODO

## Properties

name | description | default
---- | ------------ | ----------
fileSystem | fileSystem module used | require('fs')
path | path of the file, can be : 'closed','opening','opened','reading','readed','writing','closing' | 'closed'
fd | fileDescriptor of the file (set when file is opened) | null
stat | [fsStat](http://nodejs.org/api/fs.html#fs_class_fs_stats) object of the file (set when file is read) | null
size | size of the file (set when stat is set) | null
separator | string used to split the file content | '\n'
separatorBuffer | buffer representing the separator string (set when file is opened) | null
parts | Array of parts (set when file is read) | null

## new(path, encoding)

path must be a string and will be considered as the file path.
if encoding is a string encoding property will be set if [Buffer.isEncoding(encoding)](http://nodejs.org/api/buffer.html#buffer_class_method_buffer_isencoding_encoding) returns true.

## setPath(path)

set the path property

## open(callback, bind)

Open the file for reading and writing.
callback will receive (error, fileDescriptor)

error | description
----- | ----------
error.message = 'file already open' | The file state isn't 'closed'
others | an error occured in Node.js [fs.open](http://nodejs.org/api/fs.html#fs_fs_open_path_flags_mode_callback)

## close(callback, bind)

Close the file

## Undocumented internal functions

- reply(callback, bind)
- onopen(...)
- onread(...)
- onclose(...)
- onwrite(error, written, buffer)
});
```

error | description
----- | ----------
error.message = 'file already open' | The file state isn't 'closed'
others | an error occured in Node.js [fs.open](http://nodejs.org/api/fs.html#fs_fs_open_path_flags_mode_callback)

## close(callback, bind)

Close the file and call clean()

## Undocumented internal functions

- reply(callback, bind)
- onopen(...)
- onread(...)
- onclose(...)
- onwrite(error, written, buffer)
