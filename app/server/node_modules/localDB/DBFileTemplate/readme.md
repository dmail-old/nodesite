## DBFileTemplate

Extend [FileTemplate](../FileTemplate) to manipulate dabatase files.  
Currently it only support JSON format but the CSV format and the API to specify the format is under development.

## TODO NOTES

- Missing a replace, replaceAll
- the API of updateAll is not sufficient when I want to know which items have been updated

## Example

TODO

## Requirements

- [FileTemplate](../FileTemplate)
- Selector
- [JSONPart](../JSONPart)

## find(selector, callback, bind)

Search for an item matching selector and reply with callback.

```javascript
dbFileTemplate.find('foo:boo', function(error, item){

});
```

## insert(fields, callback, bind)

Use fields as item to add at the and of the file.

```javascript
dbFileTemplate.insert({name: 'damien'}, function(error, item){
  item.name; // 'damien'
});
```

## update(selector, fields, callback, bind)

Update the first part matching selector with fields values and reply with callback.

```javascript
dbFileTemplate.update('name:damien', {name: 'dam'}, function(error, item){
  // error is set if no part matched the selector
  // item is the updated item
});
```

## remove(selector, callback, bind)

Remove the first part matching selector and reply with callback.

```javascript
dbFileTemplate.remove('name:dam', function(error, item){
  // error is set if no part matched the selector
  // item is the item removed
});
```

## findAll(selector, callback, bind)

find every part matching selector and reply with callback an error or an array of items.

## updateAll(selector, fields, callback, bind)

update every part matching selector with fields values and reply with callback an error or an array of update items.

## removeAll(selector, callback, bind)

remove every part matching selector and reply with callback an error or an array of removed items.

## drop(callback, bind)

Remove the file from the fileSystem.

## Undocumented internal properties

- partPrototype
- noop(callback, bind)
- notfound(callback, bind, selector)
- compare(key, a, b)
- callWhenReaded(fn)
- findPart(selector)
