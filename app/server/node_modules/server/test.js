/*
Avant chaque test il faut faire server.listen
et apr√®s chaque test server.close en gros
*/

// https://davidbeath.com/posts/testing-http-responses-in-nodejs.html
// http://www.shakyshane.com/javascript/nodejs/2014/03/14/beginners-guide-to-testing-nodejs-servers/

exports['starting the server'] = function(test, server){
	server.open();

	test.willResolve(new Promise(function(resolve, reject){
		server.listen(server.config.port, server.config.host, function(error){
			if( error ) reject(error);
			resolve();
		});
	}));
};