module.exports = {
	name: 'requestBody',
	requires: 'requestNegotiation',

	request: {
		parsers: require('./parsers'),
		body: null
	},

	handle: function(request){
		var stream, mediaType = request.mediaType;

		if( mediaType in request.parsers ){
			return request.parsers[mediaType](request.stream).then(function(body){
				request.body = body;
			});
		}
	}
};