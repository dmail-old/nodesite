ModuleResolver
=============

Resolve a module pathname. Implmentation of the [node_modules structure](http://nodejs.org/api/modules.html#modules_all_together)

## Example

```javascript

/*
I got the following file structure

/app
	/node_modules
		test.js
	/foo
		/node_modules
			test.js
			/bar
				index.js
			/boo
				package.json (content = {"main" : "./boo.js"})
				boo.js
*/


ModuleResolver.new('test', '/app/foo'); // will find /app/node_modules/test.js 
ModuleResolver.new('./test', '/app/foo'); // will find /app/node_modules/foo/node_modules/test.js
ModuleResolver.new('bar', '/app/foo'); // will find /app/node_modules/bar/index.js
ModuleResolver.new('boo', '/app/foo'); // will find /app/node_modules/boo/boo.js

```

## Requirements

NONE

## ModuleResolver.dirname

Name of the directory containing modules. Default : 'node_modules'.

## ModuleResolver.index

Name of the index file in the module directory. Default : 'index'.

## ModuleResolver.package

Name of the package file in the module directory. Default : 'package.json'.

## ModuleResolver.extension

Name of the extension of module files when not specified. Default : '.js'.

## ModuleResolver.requiredPath

Path required by an other module

## ModuleResolver.modulePath

Path of the module to resolve from

## ModuleResolver.new(requiredPath, modulePath)

Create a moduleResolver instance.

## ModuleResolver.isFile(path, fn)

Will call fn(error, isFile).  
error is set if an error occured trying to know if path is a file.
isFile is true if file stat.isFile() or stat.isFIFO() is true.

## ModuleResolver.loadAsFile(path, fn)

Try to load a file at path and call fn(error, path).
error is set if an error occured trying to load the file.
path is the path of the file if it exists, else it's undefined.

## ModuleResolver.loadAsDirectory(path, fn)

Try to load a directory at path and call fn(error, path).  
error is set if an error occured trying to load the directory.  
path is the path of the module located into the directory.  

This function will try to load path + '/package.json' and if package.json exists it will try to load main.
Else it try to load path + '/index';

## ModuleResolver.load(path, fn)

Try to loadAsFile(path) then to loadAsdirectory(path)

## ModuleResolver.nodeModulePaths(start)

Returns an array of possible directory paths that could have modules.  

## ModuleResolver.loadNodeModules(path, start, fn)

TODO

## ModuleResolver.resolve(fn)

TODO

## Undocumented properties

- Path
- ModulePathResolver
- cache
