module.exports = {
	request: {
		originalMethod: null,
		paramMethodOverride: '_method',

		getMethod: function(){
			var method = this.params[this.paramMethodOverride] || this.getHeader(this.HEADERS.HTTP_METHOD_OVERRIDE);

			if( method ){
				method = method.toUpperCase();
			}
			else{
				method = this.method;
			}

			return method;
		}
	},

	handle: function(router){
		router.request.originalMethod = router.request.method;
		router.request.method = router.request.getMethod();
		router.next();
	}
};