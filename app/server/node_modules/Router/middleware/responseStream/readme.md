responseStream
=============

Extend response to handle following headers: length, encoding, content-type and md5.

## Example

```javascript
router.use('responseStream');
router.use(function(router, error){
  var response = router.response;
  response.send(require('fs').createReadStream('test.txt'));
});
```

## Requirements

- ProcessedStream

## response.defaultMediaType

Default mediaType when response has not content-type header. Default: 'text/plain'

## response.defaultCharset

Default encoding when response has not content-type header or content-type header did not specify charset. Default: 'utf8'

## response.defaultEncoding

Default encoding when response has not content-encoding header. Default: 'identity'

## response.defaultLanguage

Default language when response has not content-language header. Default: 'en'

## content negotiation

If response.hasHeader(Header) is false and the corresponding Property is true then the value of the header will be autofilled considering request accept headers.

Header             | Property           | Value
------------------ | ------------------ | -----------
content-type       | negotiateMediaType | false
content-type       | negotiateCharset   | true
content-encoding   | negotiateEncoding  | false
content-language   | negotiateLanguage  | true

```javascript

// Example, let's say request.accepts = 'text/*';
response.negotiateMediaType = true;
response.mediaType; // 'text/plain'

```

## response.bodyCharset

Charset used by the body of the response. Default : 'utf8'.

## response.bodyEncoding

Encoding used by the body of the response. Default : 'identity'.

## response.autoLength

When body is a stream and content-length is not set auto compute content-length from stream. Default : true.

## response.autoMD5

When content-md5 is not set, auto compute content-md5 from body. Default : false.

## response.autoEnd

When response.writeBody() is called auto call response.end(). Default : true.

## response.encoding

Get or set response body encoding

## response.mediaType

Get or set response body mediaType

## response.charset

Get or set response body charset

## response.md5

Get or set response body md5

## response.wrap()

TODO

## response.stream

Returns the instance of response.Stream used by response to write its body.

## Undocumented properties

- createUnacceptedError()
- createUnsupportedError()
- format()
- generateMD5()
- generateLength()
- write()
- validHeaders()
- prepareHeaders()