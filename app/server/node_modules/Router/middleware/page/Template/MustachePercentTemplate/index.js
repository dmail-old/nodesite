var proto = require('proto');
var StringTemplate = require('StringTemplate');

var Compiler = StringTemplate.prototype.Compiler;

// le client utilise {{}}}, le template par defaut utilise {}, donc pour le serveur on utilise encore 
// un signature diff√©rent : {%%}
var MustacheCompiler = proto.extend(Compiler, {
	regexp: /{%([A-Za-z]?[A-Za-z0-9]*)%}/g,
	open: '{%',
	close: '%}'
});

var MustachePercentTemplate = proto.extend(StringTemplate, {
	Compiler: Compiler
});

module.exports = MustachePercentTemplate;