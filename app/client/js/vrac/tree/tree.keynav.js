/*name: keynavdescription: Permet de naviguer de noeud en noeud au clavier (utile pour selector, explorer et menu)*/Tree.definePlugin('keynav', {	node: {		keynav: function(e){			var				key = e.key,				node,				navList = this.tree.getNavList(),				args = arguments,				match = function(item){ return item.checkAction('focus', args); },				index = navList.indexOf(this)			;						// ça ça ne devrait être que dans multiselection			if( e.control && key == 'a' ){				this.tree.select(navList, e);			}						else if( key == 'enter' ){				node.active(e);			}			else if( key == 'up' || key == 'down' ){				node = navList.find(match, key == 'up' ? 'left' : 'right', index, this.tree.navloop);			}			else if( key == 'pagedown' || key == 'pageup' ){				if( index < 0 ) index = 0;				count = this.tree.getVisibleCount(navList[index]);								// sélectionne le noeud le plus en haut ou en bas des noeuds que je vois				if( key == 'pageup' ) node = navList.find(match, 'right', Math.max(index - count, 0) - 1, index);				else node = navList.find(match, 'left', Math.min(index + count, navList.length - 1) + 1, index);			}			else if( !e.control && (typeof key == 'number' || key.match(/^[a-zA-Z]$/)) ){				node = navList.find([match, key+'*'], 'right', index, true);			}						if( node ){				e.preventDefault();				node.naviguate(e);			}		},				naviguate: function(e){			this.focus(e);			this.select(e);		}	},		tree: {		DOMEvents: {			keydown: function(e){				if( this.focused ) this.focused.keynav(e);			}		},				getNavList: function(){			return this.visibles;		},				getVisibleCount: function(node){			var total = node.trunk.offsetParent.clientHeight; // tentionpour control ce seras clientWidth			var count = parseInt(total / node.tree.getLine(node)) - 1;						return count;		}	},		events: {		blur: function(node){			// blur d'un noeud sans qu'aucun autre ne prenne se place			if( !this.focused ) this.focused = node.getNext() || node.getPrev() || node.parentNode || this.root;		}	},		init: function(){		this.eventList.add('keydown');	}});