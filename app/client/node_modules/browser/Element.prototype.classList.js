var Element = require('Element');
var StringList = require('StringList');

if( !('classList' in Element.prototype) ){
	Object.defineProperty(Element.prototype, 'classList', {
		get: function(){
			var element = this;
			var list = StringList.new(this.className);
			list.update = function(){ element.className = this.toString(); };

			return list;
		}
	});
}

Element.implement({
	hasClass: function(name){
		return this.classList.contains(name);
	},

	addClass: function(name){
		this.classList.add(name);
		return this;
	},

	removeClass: function(name){
		this.classList.remove(name);
		return this;
	},

	toggleClass: function(name, force){
		if( force === undefined ) force = !this.hasClass(name);
		return force ? this.addClass(name) : this.removeClass(name);
	}
});
