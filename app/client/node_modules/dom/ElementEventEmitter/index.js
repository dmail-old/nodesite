var EventEmitter = require('emitter/eventEmitter');
var ElementEmitter = EventEmitter.extend({
	element: null,
	
	init: function(element, bind){
		this.element = element;
		EventEmitter.init.call(this, bind || element);
	},

	handleEvent: function(e){
		this.emit(e.type, e);
	}
});

ElementEmitter.on('addListener', function(name){
	if( name != 'addListener' && name != 'removeListener' && name != '*' ) this.element.addEventListener(name, this);
});
ElementEmitter.on('removeListener', function(name){
	if( name != 'addListener' && name != 'removeListener' && name != '*' ) this.element.removeEventListener(name, this);
});

module.exports = ElementEmitter;