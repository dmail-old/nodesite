<script>
var treeData = {
	name: 'rootnode',
	children: [
		{name: 'node0', children: [{name: 'node0.1'}]},
		{name: 'node1'},
		{name: 'node2', children: [{name: 'node2.1'}, {name: 'node2.2'}]},
		{name: 'node3', children: [{name: 'node3.1'}]}
	]
};

var root = new NodeModel(treeData);
var treeView = new TreeView(root, false);
treeView.append(document.body);
//treeView.rootView.select();

treeView.rootView.expand();
treeView.rootView.children[0].expand();
treeView.rootView.children[2].expand();
treeView.rootView.children[3].expand();

console.log('lastnode of tree ', treeView.rootView.lastNode().getDom('name').innerHTML);
console.log('previous node of ', 'node1', treeView.rootView.children[1].prevNode().getDom('name').innerHTML);
console.log('previous node of ', 'node3.1', treeView.rootView.children[3].children[0].prevNode().getDom('name').innerHTML);

console.log('next node of ', 'node0.1', treeView.rootView.children[0].children[0].nextNode().getDom('name').innerHTML);
console.log('next node of ', 'node1', treeView.rootView.children[1].nextNode().getDom('name').innerHTML);



/*
var FileModel = new Class({
	Extends: NodeModel,
	Implements: Model.serverMethods,

	initialize: function(path){
		NodeModel.prototype.initialize.call(this, typeof path == 'string' ? {path: path} : path);
	},

	sync: function(action, callback){
		server.applyAction('filesystem/' + action.name, action.args, callback);
	},

	rename: function(name, callback){
		return this.send('rename', [this.get('path'), name], callback);
	}
});

NodeView.prototype.modelEvents.send = function(){
	// on n'affiche pas le loader tout de suite, uniquement si l'action dure
	this.timeout = setTimeout(function(){
		delete this.timeout;
		this.getDom('li').addClass('loading');
	}.bind(this), 300);
};

NodeView.prototype.modelEvents.complete = function(){
	if( this.timeout ){
		clearTimeout(this.timeout);
		delete this.timeout;
	}
	this.getDom('li').removeClass('loading');
};

var imgA = new FileModel('/img/aa');
imgA.rename('bb');

*/
</script>
