<script>

var data = {
	name: 'collection',
	childNodes: [
		{name: 'node0', childNodes: [{name: 'node0.1'}]},
		{name: 'node1'},
		{name: 'node2', childNodes: [{name: 'node2.1'}, {name: 'node2.2'}]},
		{name: 'node3', childNodes: [{name: 'node3.1'}]}
	]
};
var nodeModel = NS.modelDocument.createNode('node', data);
var treeView = NS.viewDocument.createNode('tree');
var nodeView = NS.viewDocument.createNode('node', nodeModel);

treeView.insertElement(document.body);
treeView.appendChild(nodeView);

nodeView.expand();
nodeView.childNodes[0].expand();
nodeView.childNodes[2].expand();
nodeView.childNodes[3].expand();

function filter(view){
	return view.isVisible();
}

console.log('firstvisibleview of root', treeView.getFirst(filter).element);
console.log('lastvisibleview of root', treeView.getLast(filter).element);

</script>
