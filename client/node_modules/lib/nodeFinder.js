var Selector = require('selector');
var NodeTraversal = require('./nodeTraversal.js');

var NodeFinder = {
	match: function(){
		var i = 0, j = arguments.length;

		for(;i<j;i++){
			if( Selector.new(arguments[i]).match(this) ) return true;
		}

		return false;
	}
};

Object.eachPair(NodeTraversal, function(name, iterator){
	if( typeof iterator != 'function' ) return;

	NodeFinder['get' + name.capitalize()] = function(selector, all){
		if( typeof selector == 'undefined' ){
			selector = true;
		}

		selector = Selector.new(selector);

		return selector.collectMatch(iterator, this, !all);
	};
});

module.exports = NodeFinder;