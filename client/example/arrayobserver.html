<script>

// this array stay in sync with supplied array
Array.prototype.sync = function(array){
	ArrayObserver.new(array, function(change){
		if( change.type == 'move' ){
			this[change.index] = change.value;
		}
		else if( change.type == 'add' ){
			this[change.index] = change.value;
		}
		else if( change.type == 'update' ){
			this[change.index] = change.value;
		}
		else if( change.type == 'remove' ){
			this.splice(change.index, 1);
		}
	}, this);

	return this;
};

var array = ['a', 'b', 'c'];
var observer = ArrayObserver.new(array, function(change){
	if( change.type == 'move' ){
		console.log('"' + change.value + '"', 'moved to', change.index, 'from', change.oldIndex);
	}
	else if( change.type == 'add' ){
		console.log('"' + change.value + '"', 'added at ', change.index);
	}
	else if( change.type == 'update' ){
		console.log('"' + change.oldValue + '"', 'updated to', '"' + change.value + '"', 'at', change.index);
	}
	else if( change.type == 'remove' ){
		console.log('"' + change.value + '"', 'removed at',  change.index);
	}
});

array.reverse();
array.sort();

//array.push('d');
//array.pop();
//array.shift();
//array.unshift('a');

//array.splice(1, 1, 'coucou');

//var array = ['a', 'b', 'c'];
//var syncArray = [].sync(array);



</script>
